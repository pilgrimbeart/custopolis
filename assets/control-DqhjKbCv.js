import{g as b,b as e,l as d,c as p,o as u,r as C}from"./session-B6mlqqQk.js";const a=b(),m=e("session-id"),i=e("session-phase"),y=e("mobile-url"),o=e("new-session"),s=e("copy-mobile"),f="https://pilgrimbeart.github.io/custopolis/",x=t=>t.endsWith("/")?t:`${t}/`,h=x(f),r=new URL("mobile/",h).toString();y.textContent=r;let n=null;const w=t=>{m.textContent=t??"Not set",i.textContent="-",n&&(n(),n=null),t&&(n=u(C(a,`sessions/${t}`),l=>{const c=l.val();i.textContent=c?.phase??"-"}))};d(a,w);o.addEventListener("click",async()=>{o.disabled=!0;try{await p(a)}catch(t){console.error(t),i.textContent="Error creating session"}finally{o.disabled=!1}});s.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(r),s.textContent="Copied!",window.setTimeout(()=>{s.textContent="Copy mobile URL"},1500)}catch(t){console.error(t),s.textContent="Copy failed"}});
