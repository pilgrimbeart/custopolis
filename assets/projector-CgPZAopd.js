import{g as Me,b as P,l as Ie,T as we,d as pe,C as Ut,o as ot,r as it,R as Dt}from"./session-CTnS1zJP.js";import{_ as Ne,a as Pe,b as ve,c as Le,d as Ue,e as De,f as qe,g as ke,h as Fe,i as ze,j as Ve,k as Oe,l as He,m as Ke,n as je,o as Je,p as Ye,q as Ge,r as Qe,s as We,t as xe,u as Xe,v as Ze,w as $e,x as tn}from"./customer_image_25-JbvhzYdF.js";function en(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var V={},st,qt;function nn(){return qt||(qt=1,st=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),st}var at={},q={},kt;function k(){if(kt)return q;kt=1;let r;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return q.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},q.getSymbolTotalCodewords=function(e){return o[e]},q.getBCHDigit=function(i){let e=0;for(;i!==0;)e++,i>>>=1;return e},q.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');r=e},q.isKanjiModeEnabled=function(){return typeof r<"u"},q.toSJIS=function(e){return r(e)},q}var ut={},Ft;function Nt(){return Ft||(Ft=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function o(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+i)}}r.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return o(e)}catch{return t}}})(ut)),ut}var ct,zt;function rn(){if(zt)return ct;zt=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(o){const i=Math.floor(o/8);return(this.buffer[i]>>>7-o%8&1)===1},put:function(o,i){for(let e=0;e<i;e++)this.putBit((o>>>i-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),o&&(this.buffer[i]|=128>>>this.length%8),this.length++}},ct=r,ct}var lt,Vt;function on(){if(Vt)return lt;Vt=1;function r(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return r.prototype.set=function(o,i,e,t){const n=o*this.size+i;this.data[n]=e,t&&(this.reservedBit[n]=!0)},r.prototype.get=function(o,i){return this.data[o*this.size+i]},r.prototype.xor=function(o,i,e){this.data[o*this.size+i]^=e},r.prototype.isReserved=function(o,i){return this.reservedBit[o*this.size+i]},lt=r,lt}var ft={},Ot;function sn(){return Ot||(Ot=1,(function(r){const o=k().getSymbolSize;r.getRowColCoords=function(e){if(e===1)return[];const t=Math.floor(e/7)+2,n=o(e),s=n===145?26:Math.ceil((n-13)/(2*t-2))*2,u=[n-7];for(let a=1;a<t-1;a++)u[a]=u[a-1]-s;return u.push(6),u.reverse()},r.getPositions=function(e){const t=[],n=r.getRowColCoords(e),s=n.length;for(let u=0;u<s;u++)for(let a=0;a<s;a++)u===0&&a===0||u===0&&a===s-1||u===s-1&&a===0||t.push([n[u],n[a]]);return t}})(ft)),ft}var dt={},Ht;function an(){if(Ht)return dt;Ht=1;const r=k().getSymbolSize,o=7;return dt.getPositions=function(e){const t=r(e);return[[0,0],[t-o,0],[0,t-o]]},dt}var gt={},Kt;function un(){return Kt||(Kt=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};r.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7},r.from=function(t){return r.isValid(t)?parseInt(t,10):void 0},r.getPenaltyN1=function(t){const n=t.size;let s=0,u=0,a=0,c=null,d=null;for(let E=0;E<n;E++){u=a=0,c=d=null;for(let h=0;h<n;h++){let l=t.get(E,h);l===c?u++:(u>=5&&(s+=o.N1+(u-5)),c=l,u=1),l=t.get(h,E),l===d?a++:(a>=5&&(s+=o.N1+(a-5)),d=l,a=1)}u>=5&&(s+=o.N1+(u-5)),a>=5&&(s+=o.N1+(a-5))}return s},r.getPenaltyN2=function(t){const n=t.size;let s=0;for(let u=0;u<n-1;u++)for(let a=0;a<n-1;a++){const c=t.get(u,a)+t.get(u,a+1)+t.get(u+1,a)+t.get(u+1,a+1);(c===4||c===0)&&s++}return s*o.N2},r.getPenaltyN3=function(t){const n=t.size;let s=0,u=0,a=0;for(let c=0;c<n;c++){u=a=0;for(let d=0;d<n;d++)u=u<<1&2047|t.get(c,d),d>=10&&(u===1488||u===93)&&s++,a=a<<1&2047|t.get(d,c),d>=10&&(a===1488||a===93)&&s++}return s*o.N3},r.getPenaltyN4=function(t){let n=0;const s=t.data.length;for(let a=0;a<s;a++)n+=t.data[a];return Math.abs(Math.ceil(n*100/s/5)-10)*o.N4};function i(e,t,n){switch(e){case r.Patterns.PATTERN000:return(t+n)%2===0;case r.Patterns.PATTERN001:return t%2===0;case r.Patterns.PATTERN010:return n%3===0;case r.Patterns.PATTERN011:return(t+n)%3===0;case r.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2===0;case r.Patterns.PATTERN101:return t*n%2+t*n%3===0;case r.Patterns.PATTERN110:return(t*n%2+t*n%3)%2===0;case r.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}r.applyMask=function(t,n){const s=n.size;for(let u=0;u<s;u++)for(let a=0;a<s;a++)n.isReserved(a,u)||n.xor(a,u,i(t,a,u))},r.getBestMask=function(t,n){const s=Object.keys(r.Patterns).length;let u=0,a=1/0;for(let c=0;c<s;c++){n(c),r.applyMask(c,t);const d=r.getPenaltyN1(t)+r.getPenaltyN2(t)+r.getPenaltyN3(t)+r.getPenaltyN4(t);r.applyMask(c,t),d<a&&(a=d,u=c)}return u}})(gt)),gt}var Y={},jt;function Ce(){if(jt)return Y;jt=1;const r=Nt(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Y.getBlocksCount=function(t,n){switch(n){case r.L:return o[(t-1)*4+0];case r.M:return o[(t-1)*4+1];case r.Q:return o[(t-1)*4+2];case r.H:return o[(t-1)*4+3];default:return}},Y.getTotalCodewordsCount=function(t,n){switch(n){case r.L:return i[(t-1)*4+0];case r.M:return i[(t-1)*4+1];case r.Q:return i[(t-1)*4+2];case r.H:return i[(t-1)*4+3];default:return}},Y}var ht={},H={},Jt;function cn(){if(Jt)return H;Jt=1;const r=new Uint8Array(512),o=new Uint8Array(256);return(function(){let e=1;for(let t=0;t<255;t++)r[t]=e,o[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)r[t]=r[t-255]})(),H.log=function(e){if(e<1)throw new Error("log("+e+")");return o[e]},H.exp=function(e){return r[e]},H.mul=function(e,t){return e===0||t===0?0:r[o[e]+o[t]]},H}var Yt;function ln(){return Yt||(Yt=1,(function(r){const o=cn();r.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let s=0;s<e.length;s++)for(let u=0;u<t.length;u++)n[s+u]^=o.mul(e[s],t[u]);return n},r.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const s=n[0];for(let a=0;a<t.length;a++)n[a]^=o.mul(t[a],s);let u=0;for(;u<n.length&&n[u]===0;)u++;n=n.slice(u)}return n},r.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=r.mul(t,new Uint8Array([1,o.exp(n)]));return t}})(ht)),ht}var mt,Gt;function fn(){if(Gt)return mt;Gt=1;const r=ln();function o(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),s=this.degree-n.length;if(s>0){const u=new Uint8Array(this.degree);return u.set(n,s),u}return n},mt=o,mt}var _t={},wt={},pt={},Qt;function Ee(){return Qt||(Qt=1,pt.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),pt}var v={},Wt;function ye(){if(Wt)return v;Wt=1;const r="[0-9]+",o="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;v.KANJI=new RegExp(i,"g"),v.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),v.BYTE=new RegExp(e,"g"),v.NUMERIC=new RegExp(r,"g"),v.ALPHANUMERIC=new RegExp(o,"g");const t=new RegExp("^"+i+"$"),n=new RegExp("^"+r+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return v.testKanji=function(a){return t.test(a)},v.testNumeric=function(a){return n.test(a)},v.testAlphanumeric=function(a){return s.test(a)},v}var xt;function F(){return xt||(xt=1,(function(r){const o=Ee(),i=ye();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(n,s){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!o.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?n.ccBits[0]:s<27?n.ccBits[1]:n.ccBits[2]},r.getBestModeForData=function(n){return i.testNumeric(n)?r.NUMERIC:i.testAlphanumeric(n)?r.ALPHANUMERIC:i.testKanji(n)?r.KANJI:r.BYTE},r.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},r.isValid=function(n){return n&&n.bit&&n.ccBits};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+t)}}r.from=function(n,s){if(r.isValid(n))return n;try{return e(n)}catch{return s}}})(wt)),wt}var Xt;function dn(){return Xt||(Xt=1,(function(r){const o=k(),i=Ce(),e=Nt(),t=F(),n=Ee(),s=7973,u=o.getBCHDigit(s);function a(h,l,A){for(let S=1;S<=40;S++)if(l<=r.getCapacity(S,A,h))return S}function c(h,l){return t.getCharCountIndicator(h,l)+4}function d(h,l){let A=0;return h.forEach(function(S){const I=c(S.mode,l);A+=I+S.getBitsLength()}),A}function E(h,l){for(let A=1;A<=40;A++)if(d(h,A)<=r.getCapacity(A,l,t.MIXED))return A}r.from=function(l,A){return n.isValid(l)?parseInt(l,10):A},r.getCapacity=function(l,A,S){if(!n.isValid(l))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=t.BYTE);const I=o.getSymbolTotalCodewords(l),B=i.getTotalCodewordsCount(l,A),M=(I-B)*8;if(S===t.MIXED)return M;const R=M-c(S,l);switch(S){case t.NUMERIC:return Math.floor(R/10*3);case t.ALPHANUMERIC:return Math.floor(R/11*2);case t.KANJI:return Math.floor(R/13);case t.BYTE:default:return Math.floor(R/8)}},r.getBestVersionForData=function(l,A){let S;const I=e.from(A,e.M);if(Array.isArray(l)){if(l.length>1)return E(l,I);if(l.length===0)return 1;S=l[0]}else S=l;return a(S.mode,S.getLength(),I)},r.getEncodedBits=function(l){if(!n.isValid(l)||l<7)throw new Error("Invalid QR Code version");let A=l<<12;for(;o.getBCHDigit(A)-u>=0;)A^=s<<o.getBCHDigit(A)-u;return l<<12|A}})(_t)),_t}var Ct={},Zt;function gn(){if(Zt)return Ct;Zt=1;const r=k(),o=1335,i=21522,e=r.getBCHDigit(o);return Ct.getEncodedBits=function(n,s){const u=n.bit<<3|s;let a=u<<10;for(;r.getBCHDigit(a)-e>=0;)a^=o<<r.getBCHDigit(a)-e;return(u<<10|a)^i},Ct}var Et={},yt,$t;function hn(){if($t)return yt;$t=1;const r=F();function o(i){this.mode=r.NUMERIC,this.data=i.toString()}return o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t,n,s;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),s=parseInt(n,10),e.put(s,10);const u=this.data.length-t;u>0&&(n=this.data.substr(t),s=parseInt(n,10),e.put(s,u*3+1))},yt=o,yt}var bt,te;function mn(){if(te)return bt;te=1;const r=F(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=r.ALPHANUMERIC,this.data=e}return i.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let s=o.indexOf(this.data[n])*45;s+=o.indexOf(this.data[n+1]),t.put(s,11)}this.data.length%2&&t.put(o.indexOf(this.data[n]),6)},bt=i,bt}var Bt,ee;function _n(){if(ee)return Bt;ee=1;const r=F();function o(i){this.mode=r.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return o.getBitsLength=function(e){return e*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){for(let e=0,t=this.data.length;e<t;e++)i.put(this.data[e],8)},Bt=o,Bt}var Rt,ne;function wn(){if(ne)return Rt;ne=1;const r=F(),o=k();function i(e){this.mode=r.KANJI,this.data=e}return i.getBitsLength=function(t){return t*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=o.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}},Rt=i,Rt}var Tt={exports:{}},re;function pn(){return re||(re=1,(function(r){var o={single_source_shortest_paths:function(i,e,t){var n={},s={};s[e]=0;var u=o.PriorityQueue.make();u.push(e,0);for(var a,c,d,E,h,l,A,S,I;!u.empty();){a=u.pop(),c=a.value,E=a.cost,h=i[c]||{};for(d in h)h.hasOwnProperty(d)&&(l=h[d],A=E+l,S=s[d],I=typeof s[d]>"u",(I||S>A)&&(s[d]=A,u.push(d,A),n[d]=c))}if(typeof t<"u"&&typeof s[t]>"u"){var B=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(B)}return n},extract_shortest_path_from_predecessor_list:function(i,e){for(var t=[],n=e;n;)t.push(n),i[n],n=i[n];return t.reverse(),t},find_path:function(i,e,t){var n=o.single_source_shortest_paths(i,e,t);return o.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(i){var e=o.PriorityQueue,t={},n;i=i||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=i.sorter||e.default_sorter,t},default_sorter:function(i,e){return i.cost-e.cost},push:function(i,e){var t={value:i,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=o})(Tt)),Tt.exports}var oe;function Cn(){return oe||(oe=1,(function(r){const o=F(),i=hn(),e=mn(),t=_n(),n=wn(),s=ye(),u=k(),a=pn();function c(B){return unescape(encodeURIComponent(B)).length}function d(B,M,R){const y=[];let N;for(;(N=B.exec(R))!==null;)y.push({data:N[0],index:N.index,mode:M,length:N[0].length});return y}function E(B){const M=d(s.NUMERIC,o.NUMERIC,B),R=d(s.ALPHANUMERIC,o.ALPHANUMERIC,B);let y,N;return u.isKanjiModeEnabled()?(y=d(s.BYTE,o.BYTE,B),N=d(s.KANJI,o.KANJI,B)):(y=d(s.BYTE_KANJI,o.BYTE,B),N=[]),M.concat(R,y,N).sort(function(p,w){return p.index-w.index}).map(function(p){return{data:p.data,mode:p.mode,length:p.length}})}function h(B,M){switch(M){case o.NUMERIC:return i.getBitsLength(B);case o.ALPHANUMERIC:return e.getBitsLength(B);case o.KANJI:return n.getBitsLength(B);case o.BYTE:return t.getBitsLength(B)}}function l(B){return B.reduce(function(M,R){const y=M.length-1>=0?M[M.length-1]:null;return y&&y.mode===R.mode?(M[M.length-1].data+=R.data,M):(M.push(R),M)},[])}function A(B){const M=[];for(let R=0;R<B.length;R++){const y=B[R];switch(y.mode){case o.NUMERIC:M.push([y,{data:y.data,mode:o.ALPHANUMERIC,length:y.length},{data:y.data,mode:o.BYTE,length:y.length}]);break;case o.ALPHANUMERIC:M.push([y,{data:y.data,mode:o.BYTE,length:y.length}]);break;case o.KANJI:M.push([y,{data:y.data,mode:o.BYTE,length:c(y.data)}]);break;case o.BYTE:M.push([{data:y.data,mode:o.BYTE,length:c(y.data)}])}}return M}function S(B,M){const R={},y={start:{}};let N=["start"];for(let g=0;g<B.length;g++){const p=B[g],w=[];for(let f=0;f<p.length;f++){const b=p[f],m=""+g+f;w.push(m),R[m]={node:b,lastCount:0},y[m]={};for(let C=0;C<N.length;C++){const _=N[C];R[_]&&R[_].node.mode===b.mode?(y[_][m]=h(R[_].lastCount+b.length,b.mode)-h(R[_].lastCount,b.mode),R[_].lastCount+=b.length):(R[_]&&(R[_].lastCount=b.length),y[_][m]=h(b.length,b.mode)+4+o.getCharCountIndicator(b.mode,M))}}N=w}for(let g=0;g<N.length;g++)y[N[g]].end=0;return{map:y,table:R}}function I(B,M){let R;const y=o.getBestModeForData(B);if(R=o.from(M,y),R!==o.BYTE&&R.bit<y.bit)throw new Error('"'+B+'" cannot be encoded with mode '+o.toString(R)+`.
 Suggested mode is: `+o.toString(y));switch(R===o.KANJI&&!u.isKanjiModeEnabled()&&(R=o.BYTE),R){case o.NUMERIC:return new i(B);case o.ALPHANUMERIC:return new e(B);case o.KANJI:return new n(B);case o.BYTE:return new t(B)}}r.fromArray=function(M){return M.reduce(function(R,y){return typeof y=="string"?R.push(I(y,null)):y.data&&R.push(I(y.data,y.mode)),R},[])},r.fromString=function(M,R){const y=E(M,u.isKanjiModeEnabled()),N=A(y),g=S(N,R),p=a.find_path(g.map,"start","end"),w=[];for(let f=1;f<p.length-1;f++)w.push(g.table[p[f]].node);return r.fromArray(l(w))},r.rawSplit=function(M){return r.fromArray(E(M,u.isKanjiModeEnabled()))}})(Et)),Et}var ie;function En(){if(ie)return at;ie=1;const r=k(),o=Nt(),i=rn(),e=on(),t=sn(),n=an(),s=un(),u=Ce(),a=fn(),c=dn(),d=gn(),E=F(),h=Cn();function l(g,p){const w=g.size,f=n.getPositions(p);for(let b=0;b<f.length;b++){const m=f[b][0],C=f[b][1];for(let _=-1;_<=7;_++)if(!(m+_<=-1||w<=m+_))for(let T=-1;T<=7;T++)C+T<=-1||w<=C+T||(_>=0&&_<=6&&(T===0||T===6)||T>=0&&T<=6&&(_===0||_===6)||_>=2&&_<=4&&T>=2&&T<=4?g.set(m+_,C+T,!0,!0):g.set(m+_,C+T,!1,!0))}}function A(g){const p=g.size;for(let w=8;w<p-8;w++){const f=w%2===0;g.set(w,6,f,!0),g.set(6,w,f,!0)}}function S(g,p){const w=t.getPositions(p);for(let f=0;f<w.length;f++){const b=w[f][0],m=w[f][1];for(let C=-2;C<=2;C++)for(let _=-2;_<=2;_++)C===-2||C===2||_===-2||_===2||C===0&&_===0?g.set(b+C,m+_,!0,!0):g.set(b+C,m+_,!1,!0)}}function I(g,p){const w=g.size,f=c.getEncodedBits(p);let b,m,C;for(let _=0;_<18;_++)b=Math.floor(_/3),m=_%3+w-8-3,C=(f>>_&1)===1,g.set(b,m,C,!0),g.set(m,b,C,!0)}function B(g,p,w){const f=g.size,b=d.getEncodedBits(p,w);let m,C;for(m=0;m<15;m++)C=(b>>m&1)===1,m<6?g.set(m,8,C,!0):m<8?g.set(m+1,8,C,!0):g.set(f-15+m,8,C,!0),m<8?g.set(8,f-m-1,C,!0):m<9?g.set(8,15-m-1+1,C,!0):g.set(8,15-m-1,C,!0);g.set(f-8,8,1,!0)}function M(g,p){const w=g.size;let f=-1,b=w-1,m=7,C=0;for(let _=w-1;_>0;_-=2)for(_===6&&_--;;){for(let T=0;T<2;T++)if(!g.isReserved(b,_-T)){let D=!1;C<p.length&&(D=(p[C]>>>m&1)===1),g.set(b,_-T,D),m--,m===-1&&(C++,m=7)}if(b+=f,b<0||w<=b){b-=f,f=-f;break}}}function R(g,p,w){const f=new i;w.forEach(function(T){f.put(T.mode.bit,4),f.put(T.getLength(),E.getCharCountIndicator(T.mode,g)),T.write(f)});const b=r.getSymbolTotalCodewords(g),m=u.getTotalCodewordsCount(g,p),C=(b-m)*8;for(f.getLengthInBits()+4<=C&&f.put(0,4);f.getLengthInBits()%8!==0;)f.putBit(0);const _=(C-f.getLengthInBits())/8;for(let T=0;T<_;T++)f.put(T%2?17:236,8);return y(f,g,p)}function y(g,p,w){const f=r.getSymbolTotalCodewords(p),b=u.getTotalCodewordsCount(p,w),m=f-b,C=u.getBlocksCount(p,w),_=f%C,T=C-_,D=Math.floor(f/C),O=Math.floor(m/C),Te=O+1,Pt=D-O,Ae=new a(Pt);let tt=0;const J=new Array(C),vt=new Array(C);let et=0;const Se=new Uint8Array(g.buffer);for(let z=0;z<C;z++){const rt=z<T?O:Te;J[z]=Se.slice(tt,tt+rt),vt[z]=Ae.encode(J[z]),tt+=rt,et=Math.max(et,rt)}const nt=new Uint8Array(f);let Lt=0,L,U;for(L=0;L<et;L++)for(U=0;U<C;U++)L<J[U].length&&(nt[Lt++]=J[U][L]);for(L=0;L<Pt;L++)for(U=0;U<C;U++)nt[Lt++]=vt[U][L];return nt}function N(g,p,w,f){let b;if(Array.isArray(g))b=h.fromArray(g);else if(typeof g=="string"){let D=p;if(!D){const O=h.rawSplit(g);D=c.getBestVersionForData(O,w)}b=h.fromString(g,D||40)}else throw new Error("Invalid data");const m=c.getBestVersionForData(b,w);if(!m)throw new Error("The amount of data is too big to be stored in a QR Code");if(!p)p=m;else if(p<m)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+m+`.
`);const C=R(p,w,b),_=r.getSymbolSize(p),T=new e(_);return l(T,p),A(T),S(T,p),B(T,w,0),p>=7&&I(T,p),M(T,C),isNaN(f)&&(f=s.getBestMask(T,B.bind(null,T,w))),s.applyMask(f,T),B(T,w,f),{modules:T,version:p,errorCorrectionLevel:w,maskPattern:f,segments:b}}return at.create=function(p,w){if(typeof p>"u"||p==="")throw new Error("No input text");let f=o.M,b,m;return typeof w<"u"&&(f=o.from(w.errorCorrectionLevel,o.M),b=c.from(w.version),m=s.from(w.maskPattern),w.toSJISFunc&&r.setToSJISFunction(w.toSJISFunc)),N(p,b,f,m)},at}var At={},St={},se;function be(){return se||(se=1,(function(r){function o(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let e=i.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+i);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");const t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}r.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:n,scale:n?4:s,margin:t,color:{dark:o(e.color.dark||"#000000ff"),light:o(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},r.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale},r.getImageWidth=function(e,t){const n=r.getScale(e,t);return Math.floor((e+t.margin*2)*n)},r.qrToImageData=function(e,t,n){const s=t.modules.size,u=t.modules.data,a=r.getScale(s,n),c=Math.floor((s+n.margin*2)*a),d=n.margin*a,E=[n.color.light,n.color.dark];for(let h=0;h<c;h++)for(let l=0;l<c;l++){let A=(h*c+l)*4,S=n.color.light;if(h>=d&&l>=d&&h<c-d&&l<c-d){const I=Math.floor((h-d)/a),B=Math.floor((l-d)/a);S=E[u[I*s+B]?1:0]}e[A++]=S.r,e[A++]=S.g,e[A++]=S.b,e[A]=S.a}}})(St)),St}var ae;function yn(){return ae||(ae=1,(function(r){const o=be();function i(t,n,s){t.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=s,n.width=s,n.style.height=s+"px",n.style.width=s+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(n,s,u){let a=u,c=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(c=e()),a=o.getOptions(a);const d=o.getImageWidth(n.modules.size,a),E=c.getContext("2d"),h=E.createImageData(d,d);return o.qrToImageData(h.data,n,a),i(E,c,d),E.putImageData(h,0,0),c},r.renderToDataURL=function(n,s,u){let a=u;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const c=r.render(n,s,a),d=a.type||"image/png",E=a.rendererOpts||{};return c.toDataURL(d,E.quality)}})(At)),At}var Mt={},ue;function bn(){if(ue)return Mt;ue=1;const r=be();function o(t,n){const s=t.a/255,u=n+'="'+t.hex+'"';return s<1?u+" "+n+'-opacity="'+s.toFixed(2).slice(1)+'"':u}function i(t,n,s){let u=t+n;return typeof s<"u"&&(u+=" "+s),u}function e(t,n,s){let u="",a=0,c=!1,d=0;for(let E=0;E<t.length;E++){const h=Math.floor(E%n),l=Math.floor(E/n);!h&&!c&&(c=!0),t[E]?(d++,E>0&&h>0&&t[E-1]||(u+=c?i("M",h+s,.5+l+s):i("m",a,0),a=0,c=!1),h+1<n&&t[E+1]||(u+=i("h",d),d=0)):a++}return u}return Mt.render=function(n,s,u){const a=r.getOptions(s),c=n.modules.size,d=n.modules.data,E=c+a.margin*2,h=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+E+"v"+E+'H0z"/>':"",l="<path "+o(a.color.dark,"stroke")+' d="'+e(d,c,a.margin)+'"/>',A='viewBox="0 0 '+E+" "+E+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+A+' shape-rendering="crispEdges">'+h+l+`</svg>
`;return typeof u=="function"&&u(null,I),I},Mt}var ce;function Bn(){if(ce)return V;ce=1;const r=nn(),o=En(),i=yn(),e=bn();function t(n,s,u,a,c){const d=[].slice.call(arguments,1),E=d.length,h=typeof d[E-1]=="function";if(!h&&!r())throw new Error("Callback required as last argument");if(h){if(E<2)throw new Error("Too few arguments provided");E===2?(c=u,u=s,s=a=void 0):E===3&&(s.getContext&&typeof c>"u"?(c=a,a=void 0):(c=a,a=u,u=s,s=void 0))}else{if(E<1)throw new Error("Too few arguments provided");return E===1?(u=s,s=a=void 0):E===2&&!s.getContext&&(a=u,u=s,s=void 0),new Promise(function(l,A){try{const S=o.create(u,a);l(n(S,s,a))}catch(S){A(S)}})}try{const l=o.create(u,a);c(null,n(l,s,a))}catch(l){c(l)}}return V.create=o.create,V.toCanvas=t.bind(null,i.render),V.toDataURL=t.bind(null,i.renderToDataURL),V.toString=t.bind(null,function(n,s,u){return e.render(n,u)}),V}var Rn=Bn();const Tn=en(Rn),An=["The 5 teams are laid-out horizontally, team 1 on the left.","Each team has 5 customers (we will tweak the exact number).","Around each customer are cards showing their experience.","They might have thoughts, or be influenced by media or competitors.","Your job is to maximise the value they perceive from Pod.","You can do this in 3 ways: Educate, Offer, or Fix.","Money earned adds to your team score.","Every member of the highest score team wins Â£5 in cash.","There are 3 rounds."],Z=Me(),Sn=P("session-id"),le=P("session-phase"),fe=P("status"),Mn=P("mobile-url"),In=P("qr-canvas"),It=P("team-counts"),Nn=P("qr-stack"),Pn=P("intro-panel"),vn=P("intro-text"),Ln=P("round-screen"),Un=P("round-title"),de=P("round-clock"),ge=P("team-grid");let G=null,Q=null,W=null,x=null,Be=0,j=null,X=null,K="-";const Dn="https://pilgrimbeart.github.io/custopolis/",qn=r=>r.endsWith("/")?r:`${r}/`,kn=qn(Dn),Re=new URL("mobile/",kn).toString(),he=Array.from({length:25},(r,o)=>new URL(Object.assign({"../common/assets/customer_image_01.png":tn,"../common/assets/customer_image_02.png":$e,"../common/assets/customer_image_03.png":Ze,"../common/assets/customer_image_04.png":Xe,"../common/assets/customer_image_05.png":xe,"../common/assets/customer_image_06.png":We,"../common/assets/customer_image_07.png":Qe,"../common/assets/customer_image_08.png":Ge,"../common/assets/customer_image_09.png":Ye,"../common/assets/customer_image_10.png":Je,"../common/assets/customer_image_11.png":je,"../common/assets/customer_image_12.png":Ke,"../common/assets/customer_image_13.png":He,"../common/assets/customer_image_14.png":Oe,"../common/assets/customer_image_15.png":Ve,"../common/assets/customer_image_16.png":ze,"../common/assets/customer_image_17.png":Fe,"../common/assets/customer_image_18.png":ke,"../common/assets/customer_image_19.png":qe,"../common/assets/customer_image_20.png":De,"../common/assets/customer_image_21.png":Ue,"../common/assets/customer_image_22.png":Le,"../common/assets/customer_image_23.png":ve,"../common/assets/customer_image_24.png":Pe,"../common/assets/customer_image_25.png":Ne})[`../common/assets/customer_image_${String(o+1).padStart(2,"0")}.png`],import.meta.url).toString());Mn.textContent=Re;Tn.toCanvas(In,Re,{width:280,margin:2,color:{dark:"#f5f7ff",light:"#0b1020"}}).catch(r=>{console.error(r)});const me=r=>{const o=Math.max(0,Math.floor(r/1e3)),i=Math.floor(o/60),e=o%60;return`${i.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},$=()=>{if(!j){de.textContent=me(Dt*1e3);return}const r=Date.now()+Be,o=j+Dt*1e3-r;de.textContent=me(o)},Fn=r=>{x&&(window.clearInterval(x),x=null),r&&($(),x=window.setInterval($,250))},_e=()=>{const r=K==="introduction",o=K==="round";document.body.classList.toggle("with-backdrop",!o),Pn.classList.toggle("hidden",!r),Ln.classList.toggle("hidden",!o),Nn.classList.toggle("hidden",o),Fn(o&&!!j)},zn=r=>{if(Sn.textContent=r??"Not set",le.textContent="-",K="-",j=null,X=null,G&&(G(),G=null),Q&&(Q(),Q=null),W&&(W(),W=null),!r){fe.textContent="Waiting for control.",It.innerHTML="",_e();return}G=ot(it(Z,`sessions/${r}`),o=>{const i=o.val();K=i?.phase??"-",X=typeof i?.currentRound=="number"?i.currentRound:null,j=typeof i?.roundStartedAt=="number"?i.roundStartedAt:null,le.textContent=K,fe.textContent=i?.phase?"Live":"Waiting for control.",Un.textContent=X?`Round ${X}`:"Round",$(),_e()}),Q=ot(it(Z,`sessions/${r}/teamCounts`),o=>{const i=o.val();It.innerHTML="";for(let e=0;e<we;e+=1){const t=i?.[e.toString()]??0,n=document.createElement("li");n.textContent=`Team ${e+1}: ${t}`,n.style.color=pe[e],It.appendChild(n)}}),W=ot(it(Z,".info/serverTimeOffset"),o=>{Be=typeof o.val()=="number"?o.val():0,$()})};Ie(Z,zn);vn.innerHTML=An.map(r=>`<p>${r}</p>`).join("");const Vn=()=>{ge.innerHTML="";for(let r=0;r<we;r+=1){const o=document.createElement("div");o.className="team-column";const i=document.createElement("h3");i.textContent=`Team ${r+1}`,i.style.color=pe[r],o.appendChild(i);for(let e=0;e<Ut;e+=1){const t=r*Ut+e,n=document.createElement("div");n.className="customer-card";const s=document.createElement("img");s.src=he[t]??he[0],s.alt="Customer",n.appendChild(s),o.appendChild(n)}ge.appendChild(o)}};Vn();
